
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>2組調理室表示機</title>
  <style>
    body {
      background-color: #fff;
      font-family: sans-serif;
    }

    .id-cell, .time-cell {
      font-size: 12px;
      padding: 5px;
      min-width: 30px;
      background-color: #008b94;
      color: black;
    }

    table {
      border-collapse: separate;
      border-spacing: 10px;
      margin: auto;
    }

    td {
      border: none;
      padding: 10px 10px;
      border-radius: 20px;
      text-align: center;
      font-size: 18px;
      min-width: 70px;
    }

    th {
      border: none;
      padding: 30px 30px;
      border-radius: 20px;
      text-align: center;
      font-size: 18px;
      min-width: 70px;
      background-color: #ff6b6b;
      color: white;
      font-weight: bold;
      font-size: 20px;
    }

    .paid {
      background-color: #ff6b6b;
      color: white;
    }

    .ordered {
      background-color: #008b94;
      color: white;
    }

    .zero {
      background-color: white;
      border: 2px solid #ff6b6b;
      color: black;
    }
  </style>
</head>
<body>

  <h2 style="text-align: left;">注文一覧</h2>
  <div id="table-container"></div>

  <script>
    const jsonData = [
     {
      1: { ordered_at: Date.now() - 3600000, order_item: { "プレーン": 2, "チーズ": 1 }, status: "支払い済み" },
      2: { ordered_at: Date.now() - 3500000, order_item: { "プレーン": 0, "チーズ": 3 }, status: "注文済み" },
      3: { ordered_at: Date.now() - 3400000, order_item: { "プレーン": 1, "チーズ": 0 }, status: "支払い済み" },
      4: { ordered_at: Date.now() - 3300000, order_item: { "プレーン": 4, "チーズ": 2 }, status: "注文済み" },
      5: { ordered_at: Date.now() - 3200000, order_item: { "プレーン": 3, "チーズ": 3 }, status: "支払い済み" },
      6: { ordered_at: Date.now() - 3100000, order_item: { "プレーン": 0, "チーズ": 1 }, status: "注文済み" },
      7: { ordered_at: Date.now() - 3000000, order_item: { "プレーン": 2, "チーズ": 0 }, status: "支払い済み" },
      8: { ordered_at: Date.now() - 2900000, order_item: { "プレーン": 1, "チーズ": 2 }, status: "注文済み" },
      9: { ordered_at: Date.now() - 2800000, order_item: { "プレーン": 0, "チーズ": 4 }, status: "支払い済み" },
      10: { ordered_at: Date.now() - 2700000, order_item: { "プレーン": 5, "チーズ": 1 }, status: "注文済み" }
     }
    ];

    function createOrderTable(data) {
      const table = document.createElement("table");
      const headers = ["ID", "時間", "プレーン", "チーズ"];
      const thead = table.createTHead();
      const headerRow = thead.insertRow();

      headers.forEach(text => {
        const th = document.createElement("th");
        th.textContent = text;
        headerRow.appendChild(th);
      });

      const cellId = row.insertCell();
      cellId.textContent = orderNo;
      cellId.className = `${statusClass} id-cell`;

      const cellTime = row.insertCell();
      cellTime.textContent = new Date(order.ordered_at).toLocaleTimeString();
      cellTime.className = `${statusClass} time-cell`;




      const tbody = table.createTBody();
      const orders = data[0];

      Object.keys(orders)
        .sort((a, b) => {
          const statusA = orders[a].status;
          const statusB = orders[b].status;
          if (statusA === "支払い済み" && statusB !== "支払い済み") return -1;
          if (statusA !== "支払い済み" && statusB === "支払い済み") return 1;
          return a - b;
        })
        .forEach(orderNo => {
          const order = orders[orderNo];
          const row = tbody.insertRow();

          const statusClass = order.status === "支払い済み" ? "paid" : "ordered";

          const cellId = row.insertCell();
          cellId.textContent = orderNo;
          cellId.className = `${statusClass} id-cell`;

          const cellTime = row.insertCell();
          cellTime.textContent = new Date(order.ordered_at).toLocaleTimeString();
          cellTime.className = `${statusClass} time-cell`;


          const cellPlain = row.insertCell();
          const valPlain = order.order_item["プレーン"];
          cellPlain.textContent = valPlain;
          cellPlain.className = valPlain === 0 ? "zero" : "paid";

          const cellCheese = row.insertCell();
          const valCheese = order.order_item["チーズ"];
          cellCheese.textContent = valCheese;
          cellCheese.className = valCheese === 0 ? "zero" : "paid";
        });

      return table;
    }

    const container = document.getElementById("table-container");
    container.appendChild(createOrderTable(jsonData));
  </script>

</body>
</html>
\